# docker-compose.yml
version: "3.7"
services:
    cypress:
        # the Docker image to use from https://github.com/cypress-io/cypress-docker-images
        image: "cypress/included:4.0.2"
        depends_on:
          - frontend
        links:
          - frontend
        working_dir: /e2e
        volumes:
            - ./frontend:/e2e
            - ./scripts:/scripts
        entrypoint: /scripts/wait-for-it.sh frontend:3000 -t 60 -- cypress run --project /e2e --record
